{% extends 'cp_basic.html' %}
{% load static %}
{% block content %}
    <!-- start main -->
    <section class="main main-admin">
        {% include 'cp/_side-bar.html' %}
        <div class="main-slider">
            <div class="main-slide main-slide__2">
                <div class="main-slide__bg"><svg width="135" height="215" viewBox="0 0 135 215" fill="none" xmlns="http://www.w3.org/2000/svg"><g opacity="0.3"><circle cx="2.5" cy="2.5" r="2.5" fill="white"/><circle cx="12.5" cy="2.5" r="2.5" fill="white"/><circle cx="22.5" cy="2.5" r="2.5" fill="white"/><circle cx="32.5" cy="2.5" r="2.5" fill="white"/><circle cx="42.5" cy="2.5" r="2.5" fill="white"/><circle cx="52.5" cy="2.5" r="2.5" fill="white"/><circle cx="62.5" cy="2.5" r="2.5" fill="white"/><circle cx="72.5" cy="2.5" r="2.5" fill="white"/><circle cx="82.5" cy="2.5" r="2.5" fill="white"/><circle cx="92.5" cy="2.5" r="2.5" fill="white"/><circle cx="102.5" cy="2.5" r="2.5" fill="white"/><circle cx="112.5" cy="2.5" r="2.5" fill="white"/><circle cx="122.5" cy="2.5" r="2.5" fill="white"/><circle cx="132.5" cy="2.5" r="2.5" fill="white"/><circle cx="2.5" cy="12.5" r="2.5" fill="white"/><circle cx="12.5" cy="12.5" r="2.5" fill="white"/><circle cx="22.5" cy="12.5" r="2.5" fill="white"/><circle cx="32.5" cy="12.5" r="2.5" fill="white"/><circle cx="42.5" cy="12.5" r="2.5" fill="white"/><circle cx="52.5" cy="12.5" r="2.5" fill="white"/><circle cx="62.5" cy="12.5" r="2.5" fill="white"/><circle cx="72.5" cy="12.5" r="2.5" fill="white"/><circle cx="82.5" cy="12.5" r="2.5" fill="white"/><circle cx="92.5" cy="12.5" r="2.5" fill="white"/><circle cx="102.5" cy="12.5" r="2.5" fill="white"/><circle cx="112.5" cy="12.5" r="2.5" fill="white"/><circle cx="122.5" cy="12.5" r="2.5" fill="white"/><circle cx="132.5" cy="12.5" r="2.5" fill="white"/><circle cx="2.5" cy="22.5" r="2.5" fill="white"/><circle cx="12.5" cy="22.5" r="2.5" fill="white"/><circle cx="22.5" cy="22.5" r="2.5" fill="white"/><circle cx="32.5" cy="22.5" r="2.5" fill="white"/><circle cx="42.5" cy="22.5" r="2.5" fill="white"/><circle cx="52.5" cy="22.5" r="2.5" fill="white"/><circle cx="62.5" cy="22.5" r="2.5" fill="white"/><circle cx="72.5" cy="22.5" r="2.5" fill="white"/><circle cx="82.5" cy="22.5" r="2.5" fill="white"/><circle cx="92.5" cy="22.5" r="2.5" fill="white"/><circle cx="102.5" cy="22.5" r="2.5" fill="white"/><circle cx="112.5" cy="22.5" r="2.5" fill="white"/><circle cx="122.5" cy="22.5" r="2.5" fill="white"/><circle cx="132.5" cy="22.5" r="2.5" fill="white"/><circle cx="2.5" cy="32.5" r="2.5" fill="white"/><circle cx="12.5" cy="32.5" r="2.5" fill="white"/><circle cx="22.5" cy="32.5" r="2.5" fill="white"/><circle cx="32.5" cy="32.5" r="2.5" fill="white"/><circle cx="42.5" cy="32.5" r="2.5" fill="white"/><circle cx="52.5" cy="32.5" r="2.5" fill="white"/><circle cx="62.5" cy="32.5" r="2.5" fill="white"/><circle cx="72.5" cy="32.5" r="2.5" fill="white"/><circle cx="82.5" cy="32.5" r="2.5" fill="white"/><circle cx="92.5" cy="32.5" r="2.5" fill="white"/><circle cx="102.5" cy="32.5" r="2.5" fill="white"/><circle cx="112.5" cy="32.5" r="2.5" fill="white"/><circle cx="122.5" cy="32.5" r="2.5" fill="white"/><circle cx="132.5" cy="32.5" r="2.5" fill="white"/><circle cx="2.5" cy="42.5" r="2.5" fill="white"/><circle cx="12.5" cy="42.5" r="2.5" fill="white"/><circle cx="22.5" cy="42.5" r="2.5" fill="white"/><circle cx="32.5" cy="42.5" r="2.5" fill="white"/><circle cx="42.5" cy="42.5" r="2.5" fill="white"/><circle cx="52.5" cy="42.5" r="2.5" fill="white"/><circle cx="62.5" cy="42.5" r="2.5" fill="white"/><circle cx="72.5" cy="42.5" r="2.5" fill="white"/><circle cx="82.5" cy="42.5" r="2.5" fill="white"/><circle cx="92.5" cy="42.5" r="2.5" fill="white"/><circle cx="102.5" cy="42.5" r="2.5" fill="white"/><circle cx="112.5" cy="42.5" r="2.5" fill="white"/><circle cx="122.5" cy="42.5" r="2.5" fill="white"/><circle cx="132.5" cy="42.5" r="2.5" fill="white"/><circle cx="2.5" cy="52.5" r="2.5" fill="white"/><circle cx="12.5" cy="52.5" r="2.5" fill="white"/><circle cx="22.5" cy="52.5" r="2.5" fill="white"/><circle cx="32.5" cy="52.5" r="2.5" fill="white"/><circle cx="42.5" cy="52.5" r="2.5" fill="white"/><circle cx="52.5" cy="52.5" r="2.5" fill="white"/><circle cx="62.5" cy="52.5" r="2.5" fill="white"/><circle cx="72.5" cy="52.5" r="2.5" fill="white"/><circle cx="82.5" cy="52.5" r="2.5" fill="white"/><circle cx="92.5" cy="52.5" r="2.5" fill="white"/><circle cx="102.5" cy="52.5" r="2.5" fill="white"/><circle cx="112.5" cy="52.5" r="2.5" fill="white"/><circle cx="122.5" cy="52.5" r="2.5" fill="white"/><circle cx="132.5" cy="52.5" r="2.5" fill="white"/><circle cx="2.5" cy="62.5" r="2.5" fill="white"/><circle cx="12.5" cy="62.5" r="2.5" fill="white"/><circle cx="22.5" cy="62.5" r="2.5" fill="white"/><circle cx="32.5" cy="62.5" r="2.5" fill="white"/><circle cx="42.5" cy="62.5" r="2.5" fill="white"/><circle cx="52.5" cy="62.5" r="2.5" fill="white"/><circle cx="62.5" cy="62.5" r="2.5" fill="white"/><circle cx="72.5" cy="62.5" r="2.5" fill="white"/><circle cx="82.5" cy="62.5" r="2.5" fill="white"/><circle cx="92.5" cy="62.5" r="2.5" fill="white"/><circle cx="102.5" cy="62.5" r="2.5" fill="white"/><circle cx="112.5" cy="62.5" r="2.5" fill="white"/><circle cx="122.5" cy="62.5" r="2.5" fill="white"/><circle cx="132.5" cy="62.5" r="2.5" fill="white"/><circle cx="2.5" cy="72.5" r="2.5" fill="white"/><circle cx="12.5" cy="72.5" r="2.5" fill="white"/><circle cx="22.5" cy="72.5" r="2.5" fill="white"/><circle cx="32.5" cy="72.5" r="2.5" fill="white"/><circle cx="42.5" cy="72.5" r="2.5" fill="white"/><circle cx="52.5" cy="72.5" r="2.5" fill="white"/><circle cx="62.5" cy="72.5" r="2.5" fill="white"/><circle cx="72.5" cy="72.5" r="2.5" fill="white"/><circle cx="82.5" cy="72.5" r="2.5" fill="white"/><circle cx="92.5" cy="72.5" r="2.5" fill="white"/><circle cx="102.5" cy="72.5" r="2.5" fill="white"/><circle cx="112.5" cy="72.5" r="2.5" fill="white"/><circle cx="122.5" cy="72.5" r="2.5" fill="white"/><circle cx="132.5" cy="72.5" r="2.5" fill="white"/><circle cx="2.5" cy="82.5" r="2.5" fill="white"/><circle cx="12.5" cy="82.5" r="2.5" fill="white"/><circle cx="22.5" cy="82.5" r="2.5" fill="white"/><circle cx="32.5" cy="82.5" r="2.5" fill="white"/><circle cx="42.5" cy="82.5" r="2.5" fill="white"/><circle cx="52.5" cy="82.5" r="2.5" fill="white"/><circle cx="62.5" cy="82.5" r="2.5" fill="white"/><circle cx="72.5" cy="82.5" r="2.5" fill="white"/><circle cx="82.5" cy="82.5" r="2.5" fill="white"/><circle cx="92.5" cy="82.5" r="2.5" fill="white"/><circle cx="102.5" cy="82.5" r="2.5" fill="white"/><circle cx="112.5" cy="82.5" r="2.5" fill="white"/><circle cx="122.5" cy="82.5" r="2.5" fill="white"/><circle cx="132.5" cy="82.5" r="2.5" fill="white"/><circle cx="2.5" cy="92.5" r="2.5" fill="white"/><circle cx="12.5" cy="92.5" r="2.5" fill="white"/><circle cx="22.5" cy="92.5" r="2.5" fill="white"/><circle cx="32.5" cy="92.5" r="2.5" fill="white"/><circle cx="42.5" cy="92.5" r="2.5" fill="white"/><circle cx="52.5" cy="92.5" r="2.5" fill="white"/><circle cx="62.5" cy="92.5" r="2.5" fill="white"/><circle cx="72.5" cy="92.5" r="2.5" fill="white"/><circle cx="82.5" cy="92.5" r="2.5" fill="white"/><circle cx="92.5" cy="92.5" r="2.5" fill="white"/><circle cx="102.5" cy="92.5" r="2.5" fill="white"/><circle cx="112.5" cy="92.5" r="2.5" fill="white"/><circle cx="122.5" cy="92.5" r="2.5" fill="white"/><circle cx="132.5" cy="92.5" r="2.5" fill="white"/><circle cx="2.5" cy="102.5" r="2.5" fill="white"/><circle cx="12.5" cy="102.5" r="2.5" fill="white"/><circle cx="22.5" cy="102.5" r="2.5" fill="white"/><circle cx="32.5" cy="102.5" r="2.5" fill="white"/><circle cx="42.5" cy="102.5" r="2.5" fill="white"/><circle cx="52.5" cy="102.5" r="2.5" fill="white"/><circle cx="62.5" cy="102.5" r="2.5" fill="white"/><circle cx="72.5" cy="102.5" r="2.5" fill="white"/><circle cx="82.5" cy="102.5" r="2.5" fill="white"/><circle cx="92.5" cy="102.5" r="2.5" fill="white"/><circle cx="102.5" cy="102.5" r="2.5" fill="white"/><circle cx="112.5" cy="102.5" r="2.5" fill="white"/><circle cx="122.5" cy="102.5" r="2.5" fill="white"/><circle cx="132.5" cy="102.5" r="2.5" fill="white"/><circle cx="2.5" cy="112.5" r="2.5" fill="white"/><circle cx="12.5" cy="112.5" r="2.5" fill="white"/><circle cx="22.5" cy="112.5" r="2.5" fill="white"/><circle cx="32.5" cy="112.5" r="2.5" fill="white"/><circle cx="42.5" cy="112.5" r="2.5" fill="white"/><circle cx="52.5" cy="112.5" r="2.5" fill="white"/><circle cx="62.5" cy="112.5" r="2.5" fill="white"/><circle cx="72.5" cy="112.5" r="2.5" fill="white"/><circle cx="82.5" cy="112.5" r="2.5" fill="white"/><circle cx="92.5" cy="112.5" r="2.5" fill="white"/><circle cx="102.5" cy="112.5" r="2.5" fill="white"/><circle cx="112.5" cy="112.5" r="2.5" fill="white"/><circle cx="122.5" cy="112.5" r="2.5" fill="white"/><circle cx="132.5" cy="112.5" r="2.5" fill="white"/><circle cx="2.5" cy="122.5" r="2.5" fill="white"/><circle cx="12.5" cy="122.5" r="2.5" fill="white"/><circle cx="22.5" cy="122.5" r="2.5" fill="white"/><circle cx="32.5" cy="122.5" r="2.5" fill="white"/><circle cx="42.5" cy="122.5" r="2.5" fill="white"/><circle cx="52.5" cy="122.5" r="2.5" fill="white"/><circle cx="62.5" cy="122.5" r="2.5" fill="white"/><circle cx="72.5" cy="122.5" r="2.5" fill="white"/><circle cx="82.5" cy="122.5" r="2.5" fill="white"/><circle cx="92.5" cy="122.5" r="2.5" fill="white"/><circle cx="102.5" cy="122.5" r="2.5" fill="white"/><circle cx="112.5" cy="122.5" r="2.5" fill="white"/><circle cx="122.5" cy="122.5" r="2.5" fill="white"/><circle cx="132.5" cy="122.5" r="2.5" fill="white"/><circle cx="2.5" cy="132.5" r="2.5" fill="white"/><circle cx="12.5" cy="132.5" r="2.5" fill="white"/><circle cx="22.5" cy="132.5" r="2.5" fill="white"/><circle cx="32.5" cy="132.5" r="2.5" fill="white"/><circle cx="42.5" cy="132.5" r="2.5" fill="white"/><circle cx="52.5" cy="132.5" r="2.5" fill="white"/><circle cx="62.5" cy="132.5" r="2.5" fill="white"/><circle cx="72.5" cy="132.5" r="2.5" fill="white"/><circle cx="82.5" cy="132.5" r="2.5" fill="white"/><circle cx="92.5" cy="132.5" r="2.5" fill="white"/><circle cx="102.5" cy="132.5" r="2.5" fill="white"/><circle cx="112.5" cy="132.5" r="2.5" fill="white"/><circle cx="122.5" cy="132.5" r="2.5" fill="white"/><circle cx="132.5" cy="132.5" r="2.5" fill="white"/><circle cx="2.5" cy="142.5" r="2.5" fill="white"/><circle cx="12.5" cy="142.5" r="2.5" fill="white"/><circle cx="22.5" cy="142.5" r="2.5" fill="white"/><circle cx="32.5" cy="142.5" r="2.5" fill="white"/><circle cx="42.5" cy="142.5" r="2.5" fill="white"/><circle cx="52.5" cy="142.5" r="2.5" fill="white"/><circle cx="62.5" cy="142.5" r="2.5" fill="white"/><circle cx="72.5" cy="142.5" r="2.5" fill="white"/><circle cx="82.5" cy="142.5" r="2.5" fill="white"/><circle cx="92.5" cy="142.5" r="2.5" fill="white"/><circle cx="102.5" cy="142.5" r="2.5" fill="white"/><circle cx="112.5" cy="142.5" r="2.5" fill="white"/><circle cx="122.5" cy="142.5" r="2.5" fill="white"/><circle cx="132.5" cy="142.5" r="2.5" fill="white"/><circle cx="2.5" cy="152.5" r="2.5" fill="white"/><circle cx="12.5" cy="152.5" r="2.5" fill="white"/><circle cx="22.5" cy="152.5" r="2.5" fill="white"/><circle cx="32.5" cy="152.5" r="2.5" fill="white"/><circle cx="42.5" cy="152.5" r="2.5" fill="white"/><circle cx="52.5" cy="152.5" r="2.5" fill="white"/><circle cx="62.5" cy="152.5" r="2.5" fill="white"/><circle cx="72.5" cy="152.5" r="2.5" fill="white"/><circle cx="82.5" cy="152.5" r="2.5" fill="white"/><circle cx="92.5" cy="152.5" r="2.5" fill="white"/><circle cx="102.5" cy="152.5" r="2.5" fill="white"/><circle cx="112.5" cy="152.5" r="2.5" fill="white"/><circle cx="122.5" cy="152.5" r="2.5" fill="white"/><circle cx="132.5" cy="152.5" r="2.5" fill="white"/><circle cx="2.5" cy="162.5" r="2.5" fill="white"/><circle cx="12.5" cy="162.5" r="2.5" fill="white"/><circle cx="22.5" cy="162.5" r="2.5" fill="white"/><circle cx="32.5" cy="162.5" r="2.5" fill="white"/><circle cx="42.5" cy="162.5" r="2.5" fill="white"/><circle cx="52.5" cy="162.5" r="2.5" fill="white"/><circle cx="62.5" cy="162.5" r="2.5" fill="white"/><circle cx="72.5" cy="162.5" r="2.5" fill="white"/><circle cx="82.5" cy="162.5" r="2.5" fill="white"/><circle cx="92.5" cy="162.5" r="2.5" fill="white"/><circle cx="102.5" cy="162.5" r="2.5" fill="white"/><circle cx="112.5" cy="162.5" r="2.5" fill="white"/><circle cx="122.5" cy="162.5" r="2.5" fill="white"/><circle cx="132.5" cy="162.5" r="2.5" fill="white"/><circle cx="2.5" cy="172.5" r="2.5" fill="white"/><circle cx="12.5" cy="172.5" r="2.5" fill="white"/><circle cx="22.5" cy="172.5" r="2.5" fill="white"/><circle cx="32.5" cy="172.5" r="2.5" fill="white"/><circle cx="42.5" cy="172.5" r="2.5" fill="white"/><circle cx="52.5" cy="172.5" r="2.5" fill="white"/><circle cx="62.5" cy="172.5" r="2.5" fill="white"/><circle cx="72.5" cy="172.5" r="2.5" fill="white"/><circle cx="82.5" cy="172.5" r="2.5" fill="white"/><circle cx="92.5" cy="172.5" r="2.5" fill="white"/><circle cx="102.5" cy="172.5" r="2.5" fill="white"/><circle cx="112.5" cy="172.5" r="2.5" fill="white"/><circle cx="122.5" cy="172.5" r="2.5" fill="white"/><circle cx="132.5" cy="172.5" r="2.5" fill="white"/><circle cx="2.5" cy="182.5" r="2.5" fill="white"/><circle cx="12.5" cy="182.5" r="2.5" fill="white"/><circle cx="22.5" cy="182.5" r="2.5" fill="white"/><circle cx="32.5" cy="182.5" r="2.5" fill="white"/><circle cx="42.5" cy="182.5" r="2.5" fill="white"/><circle cx="52.5" cy="182.5" r="2.5" fill="white"/><circle cx="62.5" cy="182.5" r="2.5" fill="white"/><circle cx="72.5" cy="182.5" r="2.5" fill="white"/><circle cx="82.5" cy="182.5" r="2.5" fill="white"/><circle cx="92.5" cy="182.5" r="2.5" fill="white"/><circle cx="102.5" cy="182.5" r="2.5" fill="white"/><circle cx="112.5" cy="182.5" r="2.5" fill="white"/><circle cx="122.5" cy="182.5" r="2.5" fill="white"/><circle cx="132.5" cy="182.5" r="2.5" fill="white"/><circle cx="2.5" cy="192.5" r="2.5" fill="white"/><circle cx="12.5" cy="192.5" r="2.5" fill="white"/><circle cx="22.5" cy="192.5" r="2.5" fill="white"/><circle cx="32.5" cy="192.5" r="2.5" fill="white"/><circle cx="42.5" cy="192.5" r="2.5" fill="white"/><circle cx="52.5" cy="192.5" r="2.5" fill="white"/><circle cx="62.5" cy="192.5" r="2.5" fill="white"/><circle cx="72.5" cy="192.5" r="2.5" fill="white"/><circle cx="82.5" cy="192.5" r="2.5" fill="white"/><circle cx="92.5" cy="192.5" r="2.5" fill="white"/><circle cx="102.5" cy="192.5" r="2.5" fill="white"/><circle cx="112.5" cy="192.5" r="2.5" fill="white"/><circle cx="122.5" cy="192.5" r="2.5" fill="white"/><circle cx="132.5" cy="192.5" r="2.5" fill="white"/><circle cx="2.5" cy="202.5" r="2.5" fill="white"/><circle cx="12.5" cy="202.5" r="2.5" fill="white"/><circle cx="22.5" cy="202.5" r="2.5" fill="white"/><circle cx="32.5" cy="202.5" r="2.5" fill="white"/><circle cx="42.5" cy="202.5" r="2.5" fill="white"/><circle cx="52.5" cy="202.5" r="2.5" fill="white"/><circle cx="62.5" cy="202.5" r="2.5" fill="white"/><circle cx="72.5" cy="202.5" r="2.5" fill="white"/><circle cx="82.5" cy="202.5" r="2.5" fill="white"/><circle cx="92.5" cy="202.5" r="2.5" fill="white"/><circle cx="102.5" cy="202.5" r="2.5" fill="white"/><circle cx="112.5" cy="202.5" r="2.5" fill="white"/><circle cx="122.5" cy="202.5" r="2.5" fill="white"/><circle cx="132.5" cy="202.5" r="2.5" fill="white"/><circle cx="2.5" cy="212.5" r="2.5" fill="white"/><circle cx="12.5" cy="212.5" r="2.5" fill="white"/><circle cx="22.5" cy="212.5" r="2.5" fill="white"/><circle cx="32.5" cy="212.5" r="2.5" fill="white"/><circle cx="42.5" cy="212.5" r="2.5" fill="white"/><circle cx="52.5" cy="212.5" r="2.5" fill="white"/><circle cx="62.5" cy="212.5" r="2.5" fill="white"/><circle cx="72.5" cy="212.5" r="2.5" fill="white"/><circle cx="82.5" cy="212.5" r="2.5" fill="white"/><circle cx="92.5" cy="212.5" r="2.5" fill="white"/><circle cx="102.5" cy="212.5" r="2.5" fill="white"/><circle cx="112.5" cy="212.5" r="2.5" fill="white"/><circle cx="122.5" cy="212.5" r="2.5" fill="white"/><circle cx="132.5" cy="212.5" r="2.5" fill="white"/></g></svg></div>
                <div class="main-slide__wrap">
                    <div class="main-social">

                        <div class="main-social__col" v-for="network in networks" >
                            <div class="main-social__wrap">
                                <form action="" method="post">{% csrf_token %}
                                    <div class="main-social__top">
                                        <span class="main-social__name">[[ network.name ]]</span>
                                        <div class="main-social__btns">

                                            <div class="main-social__input">
                                                <label>Endirim əlavə et:</label>
                                                <input type="number" name="discount" :ref="'discount-field'+network.id" @change="discountChange(network.id)" v-model="network.discount" >
                                            </div>
                                            <div class="main-social__input">
                                                <label>Sloqan:</label>
                                                <input type="text" name="slogan" v-model="network.slogan">
                                            </div>


                                        </div>
                                    </div>
                                    <div class="main-social__descr">
                                        <div class="main-social__ico">
                                            {#                                            <svg width="50" height="50" viewBox="0 0 50 50" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M35.3516 0H14.6484C6.57129 0 0 6.57129 0 14.6484V35.3516C0 43.4287 6.57129 50 14.6484 50H35.3516C43.4287 50 50 43.4287 50 35.3516V14.6484C50 6.57129 43.4287 0 35.3516 0ZM48.0469 35.3516C48.0469 42.3518 42.3518 48.0469 35.3516 48.0469H14.6484C7.64824 48.0469 1.95312 42.3518 1.95312 35.3516V14.6484C1.95312 7.64824 7.64824 1.95312 14.6484 1.95312H35.3516C42.3518 1.95312 48.0469 7.64824 48.0469 14.6484V35.3516Z" fill="white"/><path d="M35.3516 4.29688H14.6484C8.94053 4.29688 4.29688 8.94053 4.29688 14.6484V35.3516C4.29688 41.0595 8.94053 45.7031 14.6484 45.7031H20.6055C21.1448 45.7031 21.582 45.2659 21.582 44.7266C21.582 44.1872 21.1448 43.75 20.6055 43.75H14.6484C10.0176 43.75 6.25 39.9824 6.25 35.3516V14.6484C6.25 10.0176 10.0176 6.25 14.6484 6.25H35.3516C39.9824 6.25 43.75 10.0176 43.75 14.6484V35.3516C43.75 39.9824 39.9824 43.75 35.3516 43.75H29.4597C28.9203 43.75 28.4831 44.1872 28.4831 44.7266C28.4831 45.2659 28.9203 45.7031 29.4597 45.7031H35.3516C41.0595 45.7031 45.7031 41.0595 45.7031 35.3516V14.6484C45.7031 8.94053 41.0595 4.29688 35.3516 4.29688Z" fill="white"/><path d="M25.6904 44.0361C25.5088 43.8545 25.2568 43.75 25 43.75C24.7432 43.75 24.4912 43.8545 24.3096 44.0361C24.1279 44.2178 24.0234 44.4697 24.0234 44.7266C24.0234 44.9834 24.1279 45.2354 24.3096 45.417C24.4912 45.5986 24.7432 45.7031 25 45.7031C25.2568 45.7031 25.5088 45.5986 25.6904 45.417C25.8721 45.2354 25.9766 44.9834 25.9766 44.7266C25.9766 44.4697 25.8721 44.2178 25.6904 44.0361Z" fill="white"/><path d="M17.1709 15.2061C16.8021 14.8125 16.1842 14.7924 15.7906 15.1611L15.7473 15.2018C15.355 15.5719 15.337 16.19 15.7072 16.5822C15.8993 16.7859 16.1582 16.8886 16.4177 16.8886C16.6581 16.8886 16.899 16.8003 17.0877 16.6223L17.1259 16.5864C17.5195 16.2177 17.5397 15.5996 17.1709 15.2061Z" fill="white"/><path d="M25 11.5234C22.8551 11.5234 20.7203 12.0401 18.8265 13.0177C18.3473 13.265 18.1593 13.8541 18.4066 14.3334C18.6541 14.8126 19.2432 15.0005 19.7224 14.7532C21.3635 13.9061 23.1392 13.4766 25 13.4766C31.354 13.4766 36.5234 18.646 36.5234 25C36.5234 31.354 31.354 36.5234 25 36.5234C18.646 36.5234 13.4766 31.354 13.4766 25C13.4766 23.006 13.9937 21.0413 14.972 19.3186C15.2383 18.8496 15.074 18.2535 14.605 17.9871C14.1359 17.7209 13.5399 17.8851 13.2735 18.3541C12.1286 20.3703 11.5234 22.6685 11.5234 25C11.5234 32.431 17.569 38.4766 25 38.4766C32.431 38.4766 38.4766 32.431 38.4766 25C38.4766 17.569 32.431 11.5234 25 11.5234Z" fill="white"/><path d="M25 16.2109C20.1537 16.2109 16.2109 20.1537 16.2109 25C16.2109 29.8463 20.1537 33.7891 25 33.7891C29.8463 33.7891 33.7891 29.8463 33.7891 25C33.7891 20.1537 29.8463 16.2109 25 16.2109ZM25 31.8359C21.2307 31.8359 18.1641 28.7693 18.1641 25C18.1641 21.2307 21.2307 18.1641 25 18.1641C28.7693 18.1641 31.8359 21.2307 31.8359 25C31.8359 28.7693 28.7693 31.8359 25 31.8359Z" fill="white"/><path d="M37.8174 8.47168C35.7712 8.47168 34.1064 10.1364 34.1064 12.1826C34.1064 14.2288 35.7712 15.8936 37.8174 15.8936C39.8636 15.8936 41.5283 14.2288 41.5283 12.1826C41.5283 10.1364 39.8636 8.47168 37.8174 8.47168ZM37.8174 13.9404C36.8481 13.9404 36.0596 13.1519 36.0596 12.1826C36.0596 11.2134 36.8481 10.4248 37.8174 10.4248C38.7866 10.4248 39.5752 11.2134 39.5752 12.1826C39.5752 13.1519 38.7866 13.9404 37.8174 13.9404Z" fill="white"/></svg>#}
                                            <img :src="network.icon" alt="">
                                        </div>
                                        <span class="main-social__title">[[ network.name ]] reklam</span>
                                        <span class="main-social__subtitle">Xidmətlərə bax</span>
                                    </div>
                                    <div class="main-social__info">
                                        <div class="main-social__info-wrap">
                                            <div class="main-social__info-top">
                                                <span>Xidmətin növü</span>
                                                <b>
                                                    Qiymət
                                                    <i>Endirim</i>
                                                </b>
                                            </div>
                                            <ul>

                                                <li v-for="service in network.services">
                                                    <span>[[ service.name ]]</span>
                                                    <b>
                                                        <input type="number" name="text" :ref="'price'+network.id + '-' +service.id" @change="changeSingle(network.id,service.id)" v-model="service.price">
                                                        <i :ref="'discount'+network.id + '-' +service.id">[[service.price_w_discount]]</i>
                                                    </b>
                                                </li>

                                            </ul>
                                        </div>
                                    </div>
                                    <input type="hidden" name="network_id" value="{{ network.id }}">
                                    <div class="main-social__buttons">
                                        <svg width="17" height="18" viewBox="0 0 17 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M15.6373 7.23016C17.062 7.97999 17.062 10.02 15.6373 10.7698L2.9315 17.4571C1.59968 18.1581 0 17.1923 0 15.6873V2.31273C0 0.807706 1.59967 -0.158067 2.93149 0.542891L15.6373 7.23016Z" fill="white"/></svg>
                                        <span @click="updateNetwork(network.id)" class="main-btn">Düzəliş et</span>
                                        <span @click="updateNetwork(network.id)" class="main-btn">Yadda saxla</span>
                                    </div>
                                </form>
                            </div>
                        </div><!-- col -->

                    </div>
                    <div class="main-bar">
                        <div id="slider1" class="main-bar__wrap"></div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- end main -->
{% endblock %}
{% block js %}
    {{ block.super }}
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <script>
        var app = new Vue({
                delimiters: ['[[', ']]'],
                el: '#app',
                data: {

                    networks:[
                        {   'id':1,
                            'name':'fb',
                            'discount':0,
                            'slogan':'asd',
                            services:[
                                {
                                    'id':1,
                                    'name':'name1',
                                    'price':300.0,
                                    'price_w_discount':0
                                },
                                {
                                    'id':2,
                                    'name':'name2',
                                    'price':330.0,
                                    'price_w_discount':0
                                },
                                {
                                    'id':3,
                                    'name':'name3',
                                    'price':340.0,
                                    'price_w_discount':0
                                }

                            ]
                        },
                        {
                            'id':2 ,
                            'name':'fb1',
                            'discount':10,
                            'slogan':'asd111',
                            services:[
                                {
                                    'id':1,
                                    'name':'name11',
                                    'price':30.0,
                                    'price_w_discount':0
                                },
                                {
                                    'id':2,
                                    'name':'name21',
                                    'price':33.0,
                                    'price_w_discount':0
                                },
                                {
                                    'id':3,
                                    'name':'name31',
                                    'price':34.0,
                                    'price_w_discount':0
                                }


                            ]
                        },

                    ]
                },
                mounted: function () {
                    this.$nextTick(function () {
                        this.getNetworks()
                        console.log('mount')


                    })
                },
                watch: {},
                methods: {
                    async getNetworks(){
                        let response = await fetch('http://localhost:8080/cp/get_networks')
                        let networks = await response.json()
                        console.log(networks)
                        this.networks = networks
                        for(let i of this.networks){
                            this.discountChange(i.id)
                        }

                    },
                    updateNetwork(id){
                        let body = {
                            network_id:id,
                            data: this.networks.find(x => x.id === id)
                        }
                        fetch('{% url 'cp_networks_update' %}', {
                            method: 'post',
                            body: JSON.stringify(body),
                            headers: { "X-CSRFToken": '{{  csrf_token }}' },
                            credentials: 'same-origin'
                        }).then(res=>res.json())
                            .then(res => {
                                console.log(res)
                            }).then( tt => {
                                console.log('then')
                            }
                        )
                    },
                    discountChange(id) {
                        let dis = this.networks.find(x => x.id === id).discount
                        console.log(dis)
                        //  console.log(this.networks.find(x => x.id === id).services)
                        for(let x of this.networks.find(x => x.id === id).services){
                            // console.log(x)
                            x.price_w_discount = x.price - (x.price * dis) / 100
                        }
                        // console.log(this.networks[id-1].discount)
                    },
                    changeSingle(n_id,s_id) {
                        let net = this.networks.find(x => x.id === n_id)
                        let service = net.services.find(x => x.id === s_id)
                        let dis = net.discount
                        console.log()
                        let price_w_dis = this.$refs['discount'+n_id+'-'+s_id][0].innerHTML
                        let price = parseFloat(this.$refs['price'+n_id+'-'+s_id][0].value)

                        console.log('price',price)
                        console.log('dis',dis)

                        console.log(price - (price * dis) / 100)
                        service.price_w_discount = price - (price * dis) / 100

                        //for(let x of this.networks.find(x => x.id === id).services){
                        //    console.log(x)
                        //    x.price_w_discount = x.price - (x.price * dis) / 100
                        //}
                        // console.log(this.networks[id-1].discount)
                    },
                }
            }
        )
    </script>
{% endblock %}